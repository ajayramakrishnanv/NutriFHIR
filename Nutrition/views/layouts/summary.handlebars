<!--
<h2 class="page-header" id="name-text">Summary</h2>
-->
<div class="col-lg12 mx-auto" id="summary">


	<div class="card">
		<div id="container">
			<div id="demographicInformation" class="card-body" style="">
				<div class="row">
					<h2 id="Patient_Name" class="card-title col-sm-11">Loading Patient</h2>
					<div class="glyphicon glyphicon-menu-hamburger pull-right card-hamburger" aria-hidden="true"></div>
				</div>
				<div id="borderDiv" style="border-right:1px solid black; float:left; width: 50%">
					<table id="demo1">
						<tbody>
							<tr>
								<th id="dob_age_text" class="width-30">Unknown</th>
								<th></th>
								<th></th>
								<th id="gender_text" class="width-30">Gender Unknown</th>
							</tr>

							<tr>
								<th id="race_text" class="width-30">Race Unknown</th>
								<th></th>
								<th></th>
								<th id="hisp_or_lat_text" class="width-30">Hisp/Latino Unknown</th>
							</tr>

							<tr>
								<th id="married_text" class="width-30">Unknown</th>
							</tr>

						</tbody>
					</table>

					<table id="demo2">
						<tbody>
							<tr>
								<th id="addr_text" class="width-30">Unknown</th>
							</tr>
						</tbody>
					</table>
				</div>

				<table id="demo3" style="float:right; width: 50%">
					<tbody>

						<tr>
							<th class="width-30">Home Phone #:</th>
							<th class="width-10">
								<td id="home_phone_text">Unknown</td>
						</tr>

						<tr>
							<th class="width-30">Cell Phone #:</th>
							<th class="width-10">
								<td id="cell_phone_text">Unknown</td>
						</tr>

						<tr>
							<th class="width-30">Email:</th>
							<th class="width-10">
								<td id="email_text">Unknown</td>
						</tr>

					</tbody>
				</table>
			</div>
			
		</div>
	</div>


  <div class="card" id='medicationTimeline'>
    <div class="card-body">
      <h2 class="card-title">Medication timeline</h2>
      <div class="floating-box">
      <h4 class="card-title">Source</h4>

            <label class="radio-inline">
                  <input type="radio" name="filter" id="prac">Practitioner
            </label>
            <label class="radio-inline">
                  <input type="radio" name="filter" id="pat">Patient
            </label>
            <label class="radio-inline">
                  <input type="radio" name="filter" id="all" checked="checked">All
            </label>
      </div>
      <div class="floating-box">
        <h4 class="card-title">Status</h4>
        <div class="checkbox">
            <label><input type="checkbox" id="statusCheck" value="">Hide inactive</label>
        </div>
      </div>
      <div id="tooltips">
      </div>
    </div>
  </div>

	<div id="DietCard" class="card">
		<div class="card-body">
			<div class="row">
				<h2 class="card-title col-sm-11">Diet Indicators</h2>
				<div class="glyphicon glyphicon-menu-hamburger pull-right card-hamburger" aria-hidden="true"></div>
			</div>

			<table id="dietHeader">
				<tbody>
					<tr>
						<th id="mrpp_text" class="width-30">Most Recent Purchase Period (xx/xx/xxxx)</th>
					</tr>
				</tbody>
			</table>

			<table>
				<tbody>
					<tr>
						<th align="center" class="width-30">HEI</th>
						<th></th>
						<th></th>
						<th></th>
						<th align="center" class="width-30">AHEI</th>
						<th></th>
						<th></th>
						<th></th>
						<th align="center" class="width-30">DASH</th>
					</tr>
					<tr>
						<td id="hei_value" align="center" valign="middle" class="width-30" style="cursor: pointer;">-</th>
							<th></th>
							<th></th>
							<th></th>
							<td id="ahei_value" align="center" valign="middle" class="width-30" style="cursor: pointer;">-</th>
								<th></th>
								<th></th>
								<th></th>
								<td id="dash_value" align="center" valign="middle" class="width-30" style="cursor: pointer;">-</th>
					</tr>
				</tbody>
			</table>
		</div>
		<div id="DietChart" class="card-body">
		</div>
	</div>


<div class="card">
	<div id="grocery-container">
		<div id="GroceryCardMap" class="card-body">
			<div class="row">
				<h2 id="groceryTitle" class="card-title col-sm-11">Groceries Map</h2>
				<div class="glyphicon glyphicon-menu-hamburger pull-right card-hamburger" aria-hidden="true"></div>
			</div>
			<div id = "groceryInfo" class="card-body" style="float:left; width: 30%"></div>
			<div id="mapChart" class="card-body" style="float:right; width: 70%"></div>
		</div>
	</div>
</div>

<div class="card">
	<div id=”container”>
		<div class="card-body" style="float:left; width: 24%">
			<div class="row">
				<h2 id="vitalTitle" class="card-title col-sm-11">Vital Signs</h2>
			</div>
		</div>
		<div class="card-body" style="float:right; width: 76%">
			<table id="vitalsNew" class="vtTable">
				<tbody>
					<tr>
						<th id="height-text" class="vtTableValue" style="cursor: pointer;">N/A</th>
						<th id="weight-text" class="vtTableValue" style="cursor: pointer;">N/A</th>
						<th id="bmi-score" class="vtTableValue" style="cursor: pointer;">N/A</th>
						<th id="gluc-score" class="vtTableValue" style="cursor: pointer;">N/A</th>
						<th id="hba1c-score" class="vtTableValue" style="cursor: pointer;">N/A</th>
						<th id="bp-overall" class="vtTableValue" style="cursor: pointer;">N/A</th>
						<th id="chol" class="vtTableValue" style="cursor: pointer;">N/A</th>
						<th id="hdl-score" class="vtTableValue" style="cursor: pointer;">N/A</th>
						<th id="ldl-score" class="vtTableValue" style="cursor: pointer;">N/A</th>
					</tr>
					<tr>
						<th id="height-name" class="vtTableLabel">Hgt</th>
						<th id="weight-name" class="vtTableLabel">Weight</th>
						<th id="BMI-name" class="vtTableLabel">BMI</th>
						<th id="glucose-name" class="vtTableLabel">Glucose</th>
						<th id="HbA1c-name" class="vtTableLabel">HbA1c</th>
						<th id="bp-name" class="vtTableLabel">BP</th>
						<th id="chol-name" class="vtTableLabel">Tot Chol</th>
						<th id="hdl-name" class="vtTableLabel">HDL</th>
						<th id="ldl-name" class="vtTableLabel">LDL</th>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>

<script src="javascripts/summarySOF.js" type="text/javascript"></script>
<script src="javascripts/staticDDP.js" type="text/javascript"></script>
<script src="javascripts/radarChart.js" type="text/javascript"></script>
<script src="javascripts/vitalHandlers.js" type="text/javascript"></script>
<script src="https://d3js.org/d3.v3.min.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?v=3&amp;sensor=false&amp;libraries=places,geometry"></script>
<script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>
<script src="/scripts/math.js" type="text/javascript"></script>
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

<script>

  /* Get static data - Eventually Johnny will have an api/specification for this */
  populateDietaryData();

  /* Get data from EHR */
  FHIR.oauth2.ready(onReady, onError);

  /* HEI Listeners */
  document.getElementById("hei_value").addEventListener("mouseover", heiHandler_mouseover, false);
  document.getElementById("hei_value").addEventListener("mouseout", handle_mouseout, false);
  document.getElementById("hei_value").addEventListener("click", heiHandler_click, false);

  /* AHEI Listeners */
  document.getElementById("ahei_value").addEventListener("mouseover", aheiHandler_mouseover, false);
  document.getElementById("ahei_value").addEventListener("mouseout", handle_mouseout, false);
  document.getElementById("ahei_value").addEventListener("click", aheiHandler_click, false);

  /* DASH Listeners */
  document.getElementById("dash_value").addEventListener("mouseover", dashHandler_mouseover, false);
  document.getElementById("dash_value").addEventListener("mouseout", handle_mouseout, false);
  document.getElementById("dash_value").addEventListener("click", dashHandler_click, false);

  /* Height Listener */
  document.getElementById("height-text").addEventListener("click", heightHandler, false);
  
  /* Weight Listener */
  document.getElementById("weight-text").addEventListener("click", weightHandler, false);
  
  /* BMI Listener */
  document.getElementById("bmi-score").addEventListener("click", bmiHandler, false);
  
  /* Glucose Listener */
  document.getElementById("gluc-score").addEventListener("click", glucoseHandler, false);
  
  /* HbA1c Listener */
  document.getElementById("hba1c-score").addEventListener("click", hba1cHandler, false);
  
  /* BP Listener */
  document.getElementById("bp-overall").addEventListener("click", bpHandler, false);
  
  /* Total Cholesterol Listener */
  document.getElementById("chol").addEventListener("click", cholHandler, false);
  
  /* HDL Listener */
  document.getElementById("hdl-score").addEventListener("click", hdlHandler, false);

  /* LDL Listener */
  document.getElementById("ldl-score").addEventListener("click", ldlHandler, false);
  
  
  function waitForElement(){
    if(typeof pat_addr !== "undefined"){
    	console.log("got it!");
    	console.log(pat_addr);
    	plotMap(pat_addr, "Groceries");
        //variable exists, do what you want
    }
    else{
    	//console.log("wait");
        setTimeout(waitForElement, 250);
    }
}

	waitForElement();
  
  $( function() {
    //$( ".card-hamburger" ).sortable();

    $( "#summary" ).sortable({
      handle: ".card-hamburger"
    });
    $( ".card-hamburger" ).disableSelection();
  } );
</script>

