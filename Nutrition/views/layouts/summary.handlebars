<!--
<h2 class="page-header" id="name-text">Summary</h2>
-->
<div class="col-lg12 mx-auto" id="summary">


	<div class="card">
		<div id="container">
			<div id="demographicInformation" class="card-body" style="">
				<div class="row">
					<h2 id="Patient_Name" class="card-title col-sm-11">Loading Patient</h2>
				</div>
				<div id="borderDiv" style="float:left; width: 48%; padding-bottom:2em" >
					<table id="demo1">
						<tbody>
							<tr>
								<td id="dob_age_text" class="width-30">Unknown</td>
								<th></th>
								<th></th>
								<td id="gender_text" class="width-30">Gender Unknown</td>
							</tr>

							<tr>
								<td id="race_text" class="width-30">Race Unknown</td>
								<th></th>
								<th></th>
								<td id="hisp_or_lat_text" class="width-30">Hisp/Latino Unknown</td>
							</tr>

							<tr>
								<td id="married_text" class="width-30">Unknown</td>
							</tr>

						</tbody>
					</table>

					<table id="demo2">
						<tbody>
							<tr>
								<td id="addr_text" class="width-30">Unknown</td>
							</tr>
						</tbody>
					</table>
				</div>

				<div id="aborderDiv" style="float:left; width: 1%;" >
					<svg height="100" width="5">
						<line x1="0" y1="0" x2="0" y2="100" style="stroke:rgb(55,71,79);stroke-width:2;opacity:0.4" />
						Sorry, your browser does not support inline SVG.
					</svg>
				</div>

				<table id="demo3" style="float:right; width: 50%; ">
					<tbody>

						<tr>
							<td class="width-30">Home Phone #:</td>
							<th class="width-10">
								<td id="home_phone_text"></td>
						</tr>

						<tr>
							<td class="width-30">Cell Phone #:</td>
							<th class="width-10">
								<td id="cell_phone_text"></td>
						</tr>

						<tr>
							<td class="width-30">Email:</td>
							<th class="width-10">
								<td id="email_text"></td>
						</tr>

					</tbody>
				</table>
			</div>

		</div>
	</div>

<div class="card groceryCard">

	<div id="GroceryCardMap" class="card-body">
		<div id=”grocery-container”>
			<h2 id="groceryTitle" class="card-title">Food Environment</h2>
			<table>
				<tbody>
				<tr class="groceryTableLabel">
						<div class="checkbox-inline">
                     <label id='CS_label'><input type="checkbox" id='CS' name="optradio" checked>Convenience Stores</label>
                 </div>

                 <div class="checkbox-inline">
                     <label id='SM_label'><input type="checkbox" id='SM' name="optradio" checked>Supermarkets</label>
                 </div>

                 <div class="checkbox-inline">
                     <label id='FM_label'><input type="checkbox" id='FM' name="optradio" checked>Farmers Markets</label>
                 </div>

					</tr>
				</tbody>
			</table>
		</div>

		<div class="cardBlankBorder GroceryContentsContainer">
			<div id="map"></div>
			<div class="rightGrocery">
				<th>Shopping Outlets:</th>
				<input id="searchInput" class="controls" type="text" placeholder="Enter a location">
				<table id="groceryTableData" class="groceryTable">
					<tbody class = "groceryTableBody">
					</tbody>
				</table>

			</div>
		</div>

	</div>

</div>

  <div class="card" id='medicationTimeline'>
    <div class="card-body">
      <h2 class="card-title">Medications</h2>
      <div class="floating-box">
      <h4 class="card-title">Source</h4>

            <label class="radio-inline">
                  <input type="radio" name="filter" id="prac">Practitioner
            </label>
            <label class="radio-inline">
                  <input type="radio" name="filter" id="pat">Patient
            </label>
            <label class="radio-inline">
                  <input type="radio" name="filter" id="all" checked="checked">All
            </label>
      </div>
      <div class="floating-box">
        <h4 class="card-title">Status</h4>
        <div class="checkbox">
            <label><input type="checkbox" id="statusCheck" value="">Hide inactive</label>
        </div>
      </div>
      <div id="tooltips">
      </div>
    </div>
  </div>

	<div id="DietCard" class="card">
		<div class="card-body">
			<div class="row">
				<h2 class="card-title col-sm-11">Personal Diet</h2>
			</div>

			<table id="dietHeader">
				<tbody>
					<tr>
						<th id="mrpp_text" class="width-30">Most Recent Purchase Period (xx/xx/xxxx)</th>
					</tr>
				</tbody>
			</table>

			<table>
				<tbody>
					<tr>
						<th align="center" class="width-30"><font color="#3E74A5">HEI</font></th>
						<th></th>
						<th></th>
						<th></th>
						<th align="center" class="width-30"><font color="#DB7100">AHEI</font></th>
						<th></th>
						<th></th>
						<th></th>
						<th align="center" class="width-30"><font color="#45B20E">DASH</font></th>
						<th></th>
						<th></th>
						<th></th>
						<th align="center" class="width-30"><font color="#DB2354">NutriSavings</font></th>
					</tr>
					<tr>
						<td id="hei_value" align="center" valign="middle" class="width-30" style="cursor: pointer;">-</th>
							<th></th>
							<th></th>
							<th></th>
							<td id="ahei_value" align="center" valign="middle" class="width-30" style="cursor: pointer;">-</th>
								<th></th>
								<th></th>
								<th></th>
								<td id="dash_value" align="center" valign="middle" class="width-30" style="cursor: pointer;">-</th>
								<th></th>
								<th></th>
								<th></th>
								<td id="nutrisavings_value" align="center" valign="middle" class="width-30" style="cursor: pointer;">-</th>
					</tr>
				</tbody>
			</table>
		</div>
		<div id="DietChart" class="card-body">
		</div>
	</div>



<div class="card">
	<div id=”container”>
		<div class="card-body" style="float:left; width: 25%">
			<div class="row">
				<h2 id="vitalTitle" class="card-title col-sm-11">Vitals/Labs</h2>
			</div>
		</div>
		<div class="card-body" style="float:right; width: 75%">
			<table id="vitalsNew" class="vtTable">
				<tbody>
					<tr>
						<th id="height-text" class="vtTableValue" style="cursor: pointer;">N/A</th>
						<th id="weight-text" class="vtTableValue" style="cursor: pointer;">N/A</th>
						<th id="bmi-score" class="vtTableValue" style="cursor: pointer;">N/A</th>
						<th id="gluc-score" class="vtTableValue" style="cursor: pointer;">N/A</th>
						<th id="hba1c-score" class="vtTableValue" style="cursor: pointer;">N/A</th>
						<th id="bp-overall" class="vtTableValue" style="cursor: pointer;">N/A</th>
						<th id="chol" class="vtTableValue" style="cursor: pointer;">N/A</th>
						<th id="hdl-score" class="vtTableValue" style="cursor: pointer;">N/A</th>
						<th id="ldl-score" class="vtTableValue" style="cursor: pointer;">N/A</th>
					</tr>
					<tr>
						<th id="height-name" class="vtTableLabel">Hgt</th>
						<th id="weight-name" class="vtTableLabel">Weight</th>
						<th id="BMI-name" class="vtTableLabel">BMI</th>
						<th id="glucose-name" class="vtTableLabel">Glucose</th>
						<th id="HbA1c-name" class="vtTableLabel">HbA1c</th>
						<th id="bp-name" class="vtTableLabel">BP</th>
						<th id="chol-name" class="vtTableLabel">Tot Chol</th>
						<th id="hdl-name" class="vtTableLabel">HDL</th>
						<th id="ldl-name" class="vtTableLabel">LDL</th>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>

<script src="javascripts/summarySOF.js" type="text/javascript"></script>
<script src="javascripts/staticDDP.js" type="text/javascript"></script>
<script src="javascripts/radarChart.js" type="text/javascript"></script>
<script src="javascripts/vitalHandlers.js" type="text/javascript"></script>
<script src="https://d3js.org/d3.v3.min.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?v=3&amp;sensor=false&amp;libraries=places,geometry&key=AIzaSyBzfiBP8bqaT6uuPPoBCGNiO5HC0JXkNOk"></script>
<script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>
<script src="/scripts/math.js" type="text/javascript"></script>
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

<script>


  /* Get static data - Eventually Johnny will have an api/specification for this */
  populateDietaryData();

  /* Get data from EHR */
  FHIR.oauth2.ready(onReady, onError);

  /* HEI Listeners */
  document.getElementById("hei_value").addEventListener("click", heiHandler_click, false);

  /* AHEI Listeners */
  document.getElementById("ahei_value").addEventListener("click", aheiHandler_click, false);

  /* DASH Listeners */
  document.getElementById("dash_value").addEventListener("click", dashHandler_click, false);

  /* NutriSavings Listeners */
  document.getElementById("nutrisavings_value").addEventListener("click", nutrisavingsHandler_click, false);


  /* Height Listener */
  document.getElementById("height-text").addEventListener("click", heightHandler, false);

  /* Weight Listener */
  document.getElementById("weight-text").addEventListener("click", weightHandler, false);

  /* BMI Listener */
  document.getElementById("bmi-score").addEventListener("click", bmiHandler, false);

  /* Glucose Listener */
  document.getElementById("gluc-score").addEventListener("click", glucoseHandler, false);

  /* HbA1c Listener */
  document.getElementById("hba1c-score").addEventListener("click", hba1cHandler, false);

  /* BP Listener */
  document.getElementById("bp-overall").addEventListener("click", bpHandler, false);

  /* Total Cholesterol Listener */
  document.getElementById("chol").addEventListener("click", cholHandler, false);

  /* HDL Listener */
  document.getElementById("hdl-score").addEventListener("click", hdlHandler, false);

  /* LDL Listener */
  document.getElementById("ldl-score").addEventListener("click", ldlHandler, false);


  function waitForElement(){
    if(typeof pat_addr !== "undefined"){
    	console.log("got it!");
    	console.log(pat_addr);
    	plotMap(pat_addr, "Groceries");
        //variable exists, do what you want
    }
    else{
    	//console.log("wait");
        setTimeout(waitForElement, 250);
    }
}

	waitForElement();

  $( function() {
    $( "#summary" ).sortable({
	  overflow: "visible"
	});

    //$( "#summary" ).sortable({
    //  handle: ".card"
    //});
    $( "#summary" ).disableSelection({
	  overflow: "visible"
	});
  } );
</script>
